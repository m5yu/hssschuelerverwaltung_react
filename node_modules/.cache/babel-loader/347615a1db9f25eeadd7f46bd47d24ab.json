{"ast":null,"code":"import _regeneratorRuntime from \"/home/dominicbrandel/workspace2/hssschuelerverwaltung_react/hssshuelerverwaltung/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/dominicbrandel/workspace2/hssschuelerverwaltung_react/hssshuelerverwaltung/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/dominicbrandel/workspace2/hssschuelerverwaltung_react/hssshuelerverwaltung/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/dominicbrandel/workspace2/hssschuelerverwaltung_react/hssshuelerverwaltung/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/dominicbrandel/workspace2/hssschuelerverwaltung_react/hssshuelerverwaltung/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/dominicbrandel/workspace2/hssschuelerverwaltung_react/hssshuelerverwaltung/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/dominicbrandel/workspace2/hssschuelerverwaltung_react/hssshuelerverwaltung/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/dominicbrandel/workspace2/hssschuelerverwaltung_react/hssshuelerverwaltung/src/StudentOverview.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport ReactTable from 'react-table';\nimport Modal from './Modal.js';\nimport \"react-table/react-table.css\";\n\nvar StudentOverview =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(StudentOverview, _Component);\n\n  function StudentOverview() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, StudentOverview);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(StudentOverview)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      students: [],\n      isOpen: false,\n      studentSelected: {}\n    };\n\n    _this.toggleModal = function (props) {\n      _this.setState({\n        isOpen: !_this.state.isOpen,\n        studentSelected: props\n      });\n    };\n\n    _this.updateStudentList = function () {\n      fetch(\"http://localhost:8080/schule\").then(function (result) {\n        return result.json();\n      }).then(function (studentList) {\n        console.log(studentList);\n\n        _this.setState({\n          students: studentList\n        });\n      });\n    };\n\n    _this.approveDelete = function (studentid) {\n      fetch(\"http://localhost:8080/schule/\".concat(studentid), {\n        method: 'delete'\n      }).then(function () {\n        _this.setState({\n          studentSelected: {}\n        });\n\n        _this.toggleModal();\n\n        _this.updateStudentList();\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(StudentOverview, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.updateStudentList();\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      function getLinkObject(props) {\n        var newLink = {\n          pathname: \"/add-student\",\n          studentId: props.original.id\n        };\n        return newLink;\n      }\n\n      var columns = [{\n        Header: 'Nachname',\n        accessor: 'lastName',\n        filterable: true\n      }, {\n        Header: 'Vorname',\n        accessor: 'firstName',\n        filterable: true\n      }, {\n        Header: 'Email',\n        accessor: 'email',\n        filterable: true\n      }, {\n        Header: 'Klasse',\n        accessor: 'classId',\n        filterable: true\n      }, {\n        Header: 'Unternehmen',\n        accessor: 'company.company',\n        filterable: true\n      }, {\n        Header: '',\n        Cell: function Cell(props) {\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 83\n            },\n            __self: this\n          }, React.createElement(Link, {\n            to: getLinkObject(props),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 84\n            },\n            __self: this\n          }, React.createElement(\"i\", {\n            className: \"fa fa-pencil fa-lg editStudentIcon\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 84\n            },\n            __self: this\n          })));\n        },\n        width: 50,\n        resizable: false\n      }, {\n        Header: '',\n        Cell: function Cell(props) {\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 92\n            },\n            __self: this\n          }, React.createElement(\"i\", {\n            onClick: function onClick() {\n              return _this2.toggleModal(props.original);\n            },\n            className: \"fa fa-trash fa-lg deleteStudentIcon\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 93\n            },\n            __self: this\n          }));\n        },\n        width: 50,\n        resizable: false\n      }];\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"tableWrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(ReactTable, {\n        className: '-striped -highlight',\n        data: this.state.students,\n        columns: columns,\n        defaultPageSize: 20,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      })), React.createElement(Modal, {\n        student: this.state.studentSelected,\n        show: this.state.isOpen,\n        onApprove: this.approveDelete,\n        onClose: this.toggleModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return StudentOverview;\n}(Component);\n\nexport default StudentOverview;","map":{"version":3,"sources":["/home/dominicbrandel/workspace2/hssschuelerverwaltung_react/hssshuelerverwaltung/src/StudentOverview.js"],"names":["React","Component","Link","ReactTable","Modal","StudentOverview","state","students","isOpen","studentSelected","toggleModal","props","setState","updateStudentList","fetch","then","result","json","studentList","console","log","approveDelete","studentid","method","getLinkObject","newLink","pathname","studentId","original","id","columns","Header","accessor","filterable","Cell","width","resizable"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport ReactTable from 'react-table';\nimport Modal from './Modal.js';\nimport \"react-table/react-table.css\";\n\n\nclass StudentOverview extends Component {\n    state = {\n        students: [],\n        isOpen: false,\n        studentSelected: {}\n      };\n    \n      async componentDidMount() {\n        this.updateStudentList();\n    }\n\n    toggleModal = (props) => {\n        this.setState({\n          isOpen: !this.state.isOpen,\n          studentSelected: props\n        });\n      };\n\n      updateStudentList = () => {\n        fetch(`http://localhost:8080/schule`)\n        .then(result => result.json())\n        .then(studentList => {\n            console.log(studentList);\n            this.setState({\n                students: studentList\n            });\n        });\n      }\n\n      approveDelete = (studentid) => {\n        fetch(`http://localhost:8080/schule/${studentid}`, {\n            method: 'delete'\n        }).then(() => {\n            this.setState({\n                studentSelected: {},            \n        });\n        this.toggleModal();\n        this.updateStudentList();\n        })\n      }\n\n    render() {\n\n        function getLinkObject(props)\n        {\n            const newLink = {\n                pathname: \"/add-student\",\n                studentId: props.original.id\n            }\n            return newLink;\n        }\n\n        const columns = [{\n            Header: 'Nachname',\n            accessor: 'lastName',\n            filterable: true\n          }, {\n            Header: 'Vorname',\n            accessor: 'firstName',\n            filterable: true\n          }, {\n            Header: 'Email',\n            accessor: 'email',\n            filterable: true\n          }, {\n            Header: 'Klasse',\n            accessor: 'classId',\n            filterable: true\n          }, {\n            Header: 'Unternehmen',\n            accessor: 'company.company',\n            filterable: true\n          }, {\n              Header: '',\n              Cell: props => (\n                    <div>\n                        <Link to={getLinkObject(props)}><i className='fa fa-pencil fa-lg editStudentIcon'></i></Link>\n                    </div>\n              ),\n              width: 50,\n              resizable: false\n          }, {\n            Header: '',\n            Cell: props => (\n                  <div>\n                      <i onClick={() => this.toggleModal(props.original)} className='fa fa-trash fa-lg deleteStudentIcon'></i>\n                  </div>\n            ),\n            width: 50,\n            resizable: false\n        }\n          ]\n\n        return (\n            <div>\n                <div className='tableWrapper'>\n                    <ReactTable\n                        className={'-striped -highlight'}\n                        data={this.state.students}\n                        columns={columns}\n                        defaultPageSize={20}\n                    />\n                </div>\n                    <Modal student={this.state.studentSelected} show={this.state.isOpen} onApprove={this.approveDelete} onClose={this.toggleModal}>\n                    </Modal>\n            </div>\n        )\n    }\n}\n\nexport default StudentOverview;\n"]},"metadata":{},"sourceType":"module"}