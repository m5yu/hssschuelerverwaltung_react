{"ast":null,"code":"import _regeneratorRuntime from \"/home/dominicbrandel/workspace2/hssschuelerverwaltung_react/hssshuelerverwaltung/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/dominicbrandel/workspace2/hssschuelerverwaltung_react/hssshuelerverwaltung/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/dominicbrandel/workspace2/hssschuelerverwaltung_react/hssshuelerverwaltung/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/dominicbrandel/workspace2/hssschuelerverwaltung_react/hssshuelerverwaltung/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/dominicbrandel/workspace2/hssschuelerverwaltung_react/hssshuelerverwaltung/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/dominicbrandel/workspace2/hssschuelerverwaltung_react/hssshuelerverwaltung/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/dominicbrandel/workspace2/hssschuelerverwaltung_react/hssshuelerverwaltung/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/dominicbrandel/workspace2/hssschuelerverwaltung_react/hssshuelerverwaltung/src/StudentOverview.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport ReactTable from 'react-table';\nimport Modal from './Modal.js';\nimport \"react-table/react-table.css\";\n\nvar StudentOverview =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(StudentOverview, _Component);\n\n  function StudentOverview() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, StudentOverview);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(StudentOverview)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      students: [],\n      isOpen: false\n    };\n\n    _this.toggleModal = function () {\n      _this.setState({\n        isOpen: !_this.state.isOpen\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(StudentOverview, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var _this2 = this;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                fetch(\"http://localhost:8080/schule\").then(function (result) {\n                  return result.json();\n                }).then(function (studentList) {\n                  console.log(studentList);\n\n                  _this2.setState({\n                    students: studentList\n                  });\n                });\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      function getLinkObject(props) {\n        var newLink = {\n          pathname: \"/add-student\",\n          studentId: props.original.id\n        };\n        return newLink;\n      }\n\n      var columns = [{\n        Header: 'Nachname',\n        accessor: 'lastName',\n        filterable: true\n      }, {\n        Header: 'Vorname',\n        accessor: 'firstName',\n        filterable: true\n      }, {\n        Header: 'Email',\n        accessor: 'email',\n        filterable: true\n      }, {\n        Header: 'Klasse',\n        accessor: 'classId',\n        filterable: true\n      }, {\n        Header: 'Unternehmen',\n        accessor: 'company.company',\n        filterable: true\n      }, {\n        Header: '',\n        Cell: function Cell(props) {\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 65\n            },\n            __self: this\n          }, React.createElement(Link, {\n            to: getLinkObject(props),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 66\n            },\n            __self: this\n          }, React.createElement(\"i\", {\n            className: \"fa fa-pencil fa-lg editStudentIcon\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 66\n            },\n            __self: this\n          })));\n        },\n        width: 50,\n        resizable: false\n      }, {\n        Header: '',\n        Cell: function Cell(props) {\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 74\n            },\n            __self: this\n          }, React.createElement(\"i\", {\n            onClick: _this3.toggleModal,\n            className: \"fa fa-trash fa-lg deleteStudentIcon\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 75\n            },\n            __self: this\n          }));\n        },\n        width: 50,\n        resizable: false\n      }];\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"tableWrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(ReactTable, {\n        className: '-striped -highlight',\n        data: this.state.students,\n        columns: columns,\n        defaultPageSize: 20,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      })), React.createElement(Modal, {\n        onClick: this.toggleModal,\n        show: this.state.isOpen,\n        onApprove: function onApprove() {\n          return console.log('delete succesfull');\n        },\n        onClose: this.toggleModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, \"Sch\\xFCler wirklich l\\xF6schen?\")));\n    }\n  }]);\n\n  return StudentOverview;\n}(Component);\n\nexport default StudentOverview;","map":{"version":3,"sources":["/home/dominicbrandel/workspace2/hssschuelerverwaltung_react/hssshuelerverwaltung/src/StudentOverview.js"],"names":["React","Component","Link","ReactTable","Modal","StudentOverview","state","students","isOpen","toggleModal","setState","fetch","then","result","json","studentList","console","log","getLinkObject","props","newLink","pathname","studentId","original","id","columns","Header","accessor","filterable","Cell","width","resizable"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport ReactTable from 'react-table';\nimport Modal from './Modal.js';\nimport \"react-table/react-table.css\";\n\n\nclass StudentOverview extends Component {\n    state = {\n        students: [],\n        isOpen: false\n      };\n    \n      async componentDidMount() {\n        fetch(`http://localhost:8080/schule`)\n        .then(result => result.json())\n        .then(studentList => {\n            console.log(studentList);\n            this.setState({\n                students: studentList\n            });\n        });\n    }\n\n    toggleModal = () => {\n        this.setState({\n          isOpen: !this.state.isOpen,\n        });\n      };\n\n    render() {\n\n        function getLinkObject(props)\n        {\n            const newLink = {\n                pathname: \"/add-student\",\n                studentId: props.original.id\n            }\n            return newLink;\n        }\n\n        const columns = [{\n            Header: 'Nachname',\n            accessor: 'lastName',\n            filterable: true\n          }, {\n            Header: 'Vorname',\n            accessor: 'firstName',\n            filterable: true\n          }, {\n            Header: 'Email',\n            accessor: 'email',\n            filterable: true\n          }, {\n            Header: 'Klasse',\n            accessor: 'classId',\n            filterable: true\n          }, {\n            Header: 'Unternehmen',\n            accessor: 'company.company',\n            filterable: true\n          }, {\n              Header: '',\n              Cell: props => (\n                    <div>\n                        <Link to={getLinkObject(props)}><i className='fa fa-pencil fa-lg editStudentIcon'></i></Link>\n                    </div>\n              ),\n              width: 50,\n              resizable: false\n          }, {\n            Header: '',\n            Cell: props => (\n                  <div>\n                      <i onClick={this.toggleModal} className='fa fa-trash fa-lg deleteStudentIcon'></i>\n                  </div>\n            ),\n            width: 50,\n            resizable: false\n        }\n          ]\n\n        return (\n            <div>\n                <div className='tableWrapper'>\n                    <ReactTable\n                        className={'-striped -highlight'}\n                        data={this.state.students}\n                        columns={columns}\n                        defaultPageSize={20}\n                    />\n                </div>\n                    <Modal onClick={this.toggleModal} show={this.state.isOpen} onApprove={() => console.log('delete succesfull')} onClose={this.toggleModal}>\n                        <span>Schüler wirklich löschen?</span>\n                    </Modal>\n            </div>\n        )\n    }\n}\n\nexport default StudentOverview;\n"]},"metadata":{},"sourceType":"module"}